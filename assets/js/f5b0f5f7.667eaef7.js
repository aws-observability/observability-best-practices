"use strict";(self.webpackChunkobservability_best_practices=self.webpackChunkobservability_best_practices||[]).push([[7404],{63917:(a,e,n)=>{n.r(e),n.d(e,{assets:()=>r,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var t=n(74848),s=n(28453);const i={},o="Amazon Managed Grafana",c={id:"guides/cost/cost-visualization/amazon-grafana",title:"Amazon Managed Grafana",description:"Amazon Managed Grafana cost and usage visuals will allow you to gain insights into cost of individual AWS Accounts, AWS Regions, specific Grafana Workspace instances and licensing cost of Admin, Editor, and Viewer users!",source:"@site/docs/guides/cost/cost-visualization/amazon-grafana.md",sourceDirName:"guides/cost/cost-visualization",slug:"/guides/cost/cost-visualization/amazon-grafana",permalink:"/observability-best-practices/docs/guides/cost/cost-visualization/amazon-grafana",draft:!1,unlisted:!1,editUrl:"https://github.com/aws-observability/observability-best-practices/docs/guides/cost/cost-visualization/amazon-grafana.md",tags:[],version:"current",frontMatter:{},sidebar:"guides",previous:{title:"Amazon CloudWatch",permalink:"/observability-best-practices/docs/guides/cost/cost-visualization/amazon-cloudwatch"},next:{title:"Amazon Managed Service for Prometheus",permalink:"/observability-best-practices/docs/guides/cost/cost-visualization/amazon-prometheus"}},r={},l=[];function d(a){const e={a:"a",h1:"h1",li:"li",ol:"ol",p:"p",...(0,s.R)(),...a.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"amazon-managed-grafana",children:"Amazon Managed Grafana"}),"\n",(0,t.jsx)(e.p,{children:"Amazon Managed Grafana cost and usage visuals will allow you to gain insights into cost of individual AWS Accounts, AWS Regions, specific Grafana Workspace instances and licensing cost of Admin, Editor, and Viewer users!"}),"\n",(0,t.jsx)(e.p,{children:"To visualize and analyze the cost and usage data, you need to create a custom Athena view."}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:["Before proceeding, make sure that you\u2019ve created the CUR (step #1) and deployed the AWS Conformation Template (step #2) mentioned in the ",(0,t.jsx)(e.a,{href:"/observability-best-practices/docs/guides/cost/cost-visualization/cost#implementation",children:"Implementation overview"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:["Now, Create a new Amazon Athena ",(0,t.jsx)(e.a,{href:"https://athena-in-action.workshop.aws/30-basics/303-create-view.html",children:"view"})," by using the following query. This query fetches cost and usage of Amazon Managed Grafana across all the AWS Accounts in your Organization."]}),"\n",(0,t.jsx)(e.p,{children:'CREATE OR REPLACE VIEW "grafana_cost" AS\nSELECT\nline_item_usage_type\n, line_item_resource_id\n, line_item_operation\n, line_item_usage_account_id\n, month\n, year\n, "sum"(line_item_usage_amount) "Usage"\n, "sum"(line_item_unblended_cost) cost\nFROM\ndatabase.tablename #replace database.tablename with your database and table name\nWHERE ("line_item_product_code" = \'AmazonGrafana\')\nGROUP BY 1, 2, 3, 4, 5, 6'}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["Using Athena as a data source, you can build dashboards in either Amazon Managed Grafana or Amazon QuickSight to suit your business requirements. As well, you could directly run ",(0,t.jsx)(e.a,{href:"https://docs.aws.amazon.com/athena/latest/ug/querying-athena-tables.html",children:"SQL queries"})," against the Athena view that you created."]})]})}function u(a={}){const{wrapper:e}={...(0,s.R)(),...a.components};return e?(0,t.jsx)(e,{...a,children:(0,t.jsx)(d,{...a})}):d(a)}},28453:(a,e,n)=>{n.d(e,{R:()=>o,x:()=>c});var t=n(96540);const s={},i=t.createContext(s);function o(a){const e=t.useContext(i);return t.useMemo((function(){return"function"==typeof a?a(e):{...e,...a}}),[e,a])}function c(a){let e;return e=a.disableParentContext?"function"==typeof a.components?a.components(s):a.components||s:o(a.components),t.createElement(i.Provider,{value:e},a.children)}}}]);