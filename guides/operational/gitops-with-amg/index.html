<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guides/operational/gitops-with-amg/gitops-with-amg" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Using GitOps and Grafana Operator with Amazon Managed Grafana | AWS Observability Best Practices</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://aws-observability.github.io/observability-best-practices/guides/operational/gitops-with-amg/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Using GitOps and Grafana Operator with Amazon Managed Grafana | AWS Observability Best Practices"><meta data-rh="true" name="description" content="How to use this guide"><meta data-rh="true" property="og:description" content="How to use this guide"><link data-rh="true" rel="icon" href="/observability-best-practices/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://aws-observability.github.io/observability-best-practices/guides/operational/gitops-with-amg/"><link data-rh="true" rel="alternate" href="https://aws-observability.github.io/observability-best-practices/guides/operational/gitops-with-amg/" hreflang="en"><link data-rh="true" rel="alternate" href="https://aws-observability.github.io/observability-best-practices/ja/guides/operational/gitops-with-amg/" hreflang="ja"><link data-rh="true" rel="alternate" href="https://aws-observability.github.io/observability-best-practices/guides/operational/gitops-with-amg/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/observability-best-practices/blog/rss.xml" title="AWS Observability Best Practices RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/observability-best-practices/blog/atom.xml" title="AWS Observability Best Practices Atom Feed"><link rel="stylesheet" href="/observability-best-practices/assets/css/styles.d16a0acd.css">
<script src="/observability-best-practices/assets/js/runtime~main.a0dea4c5.js" defer="defer"></script>
<script src="/observability-best-practices/assets/js/main.5bf9669f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/observability-best-practices/"><div class="navbar__logo"><img src="/observability-best-practices/img/logo.svg" alt="AWS Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/observability-best-practices/img/logo.svg" alt="AWS Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">AWS Observability Best Practices</b></a><a class="navbar__item navbar__link" href="/observability-best-practices/home">Home</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/observability-best-practices/guides/">Guides</a><a class="navbar__item navbar__link" href="/observability-best-practices/signals/alarms">Signals</a><a class="navbar__item navbar__link" href="/observability-best-practices/tools/observability_accelerator">Tools</a><a class="navbar__item navbar__link" href="/observability-best-practices/recipes/">Recipes</a><a class="navbar__item navbar__link" href="/observability-best-practices/faq/adot">FAQ</a><a class="navbar__item navbar__link" href="/observability-best-practices/patterns/multiaccount">Patterns</a><a class="navbar__item navbar__link" href="/observability-best-practices/contributors">Contributors</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/observability-best-practices/guides/operational/gitops-with-amg/"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/observability-best-practices/guides/operational/gitops-with-amg/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/observability-best-practices/ja/guides/operational/gitops-with-amg/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li></ul></div><a href="https://github.com/aws-observability/observability-best-practices" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/observability-best-practices/guides/">Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/observability-best-practices/guides/">Best practices overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/observability-best-practices/guides/choosing-a-tracing-agent">Choosing a tracing agent</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/observability-best-practices/guides/cost/kubecost">Cost</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/observability-best-practices/guides/databases/rds-and-aurora">Databases</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/observability-best-practices/guides/ec2-monitoring">EC2 Monitoring and Observability</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/observability-best-practices/guides/containers/aws-native/ecs/best-practices-metrics-collection-1">ECS best practices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/observability-best-practices/guides/containers/aws-native/eks/amazon-cloudwatch-container-insights">EKS best practices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/observability-best-practices/guides/serverless/aws-native/lambda-based-observability">Serverless best practices</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/observability-best-practices/guides/hybrid-and-multicloud">Best practices for hybrid and multicloud</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/observability-best-practices/guides/operational/adot-at-scale/operating-adot-collector">Operational</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/observability-best-practices/guides/operational/adot-at-scale/operating-adot-collector">ADOT Collector</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/observability-best-practices/guides/operational/business/monitoring-for-business-outcomes">Why should you do observability?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/observability-best-practices/guides/operational/business/sla-percentile">Percentiles are important</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/observability-best-practices/guides/operational/business/key-performance-indicators">key-performance-indicators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/observability-best-practices/guides/rust-custom-metrics/">Creating Custom Metrics with the AWS Rust SDK</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/observability-best-practices/guides/operational/alerting/amp-alertmgr">Alerting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/observability-best-practices/guides/operational/gitops-with-amg/">GitOps</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/observability-best-practices/guides/operational/gitops-with-amg/">Using GitOps and Grafana Operator with Amazon Managed Grafana</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/observability-best-practices/tools/cloudwatch-dashboard">Dashboards</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/observability-best-practices/guides/signal-collection/emf">Signal collection</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/observability-best-practices/guides/partners/databricks">Partners</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/observability-best-practices/guides/observability-maturity-model">AWS Observability Maturity Model</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/observability-best-practices/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Guides</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Operational</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">GitOps</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Using GitOps and Grafana Operator with Amazon Managed Grafana</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Using GitOps and Grafana Operator with Amazon Managed Grafana</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-use-this-guide">How to use this guide<a class="hash-link" aria-label="Direct link to How to use this guide" title="Direct link to How to use this guide" href="/observability-best-practices/guides/operational/gitops-with-amg/#how-to-use-this-guide">​</a></h2>
<p>This Observability best practices guide is meant for developers and architects who want to understand how to use <a href="https://github.com/grafana-operator/grafana-operator#:~:text=The%20grafana%2Doperator%20is%20a,an%20easy%20and%20scalable%20way." target="_blank" rel="noopener noreferrer">grafana-operator</a> as a Kubernetes operator on your Amazon EKS cluster to create and manage the lifecycle of Grafana resources and Grafana dashboards in Amazon Managed Grafana in a Kubernetes native way.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" href="/observability-best-practices/guides/operational/gitops-with-amg/#introduction">​</a></h2>
<p>Customers use Grafana as an observability platform for open source analytics and monitoring solution. We have seen customers running their workloads in Amazon EKS want to shift their focus towards workload gravity and rely on Kubernetes-native controllers to deploy and manage the lifecycle of external resources such as Cloud resources. We have seen customers installing <a href="https://aws-controllers-k8s.github.io/community/docs/community/overview/" target="_blank" rel="noopener noreferrer">AWS Controllers for Kubernetes (ACK)</a> to create, deploy and manage AWS services. Many customers these days opt to offload the Prometheus and Grafana implementations to managed services and in case of AWS these services are <a href="https://docs.aws.amazon.com/prometheus/?icmpid=docs_homepage_mgmtgov" target="_blank" rel="noopener noreferrer">Amazon Managed Service for Prometheus</a> and <a href="https://docs.aws.amazon.com/grafana/?icmpid=docs_homepage_mgmtgov" target="_blank" rel="noopener noreferrer">Amazon Managed Grafana</a> for monitoring their workloads.</p>
<p>One common challenge customers face while using Grafana is, in creating and managing the lifecycle of Grafana resources and Grafana dashboards in external Grafana instances such as Amazon Managed Grafana from their Kubernetes cluster. Customers face  challenges in finding ways to completely automate and manage infrastructure and application deployment of their whole system using Git based workflows which also includes creating of Grafana resources in Amazon Managed Grafana. In this Observability best practices guide, we will focus on the following topics:</p>
<ul>
<li>Introduction on Grafana Operator - A Kubernetes operator to manage external Grafana instances from your Kubernetes cluster</li>
<li>Introduction to GitOps - Automated mechanisms to create and manage your infrastructure using Git based workflows</li>
<li>Using Grafana Operator on Amazon EKS to manage Amazon Managed Grafana</li>
<li>Using GitOps with Flux on Amazon EKS to manage Amazon Managed Grafana</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-on-grafana-operator">Introduction on Grafana Operator<a class="hash-link" aria-label="Direct link to Introduction on Grafana Operator" title="Direct link to Introduction on Grafana Operator" href="/observability-best-practices/guides/operational/gitops-with-amg/#introduction-on-grafana-operator">​</a></h2>
<p>The <a href="https://github.com/grafana-operator/grafana-operator#:~:text=The%20grafana%2Doperator%20is%20a,an%20easy%20and%20scalable%20way." target="_blank" rel="noopener noreferrer">grafana-operator</a> is a Kubernetes operator built to help you manage your Grafana instances inside Kubernetes. Grafana Operator makes it possible for you to manage and create Grafana dashboards, datasources etc. declaratively between multiple instances in an easy and scalable way. The Grafana operator now supports managing resources such as dashboards, datasources etc hosted on external environments like Amazon Managed Grafana. This ultimately enables us to use GitOps mechanisms using CNCF projects such as <a href="https://fluxcd.io/" target="_blank" rel="noopener noreferrer">Flux</a> to create and manage the lifecyle of resources in Amazon Managed Grafana from Amazon EKS cluster.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-to-gitops">Introduction to GitOps<a class="hash-link" aria-label="Direct link to Introduction to GitOps" title="Direct link to Introduction to GitOps" href="/observability-best-practices/guides/operational/gitops-with-amg/#introduction-to-gitops">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-gitops-and-flux">What is GitOps and Flux<a class="hash-link" aria-label="Direct link to What is GitOps and Flux" title="Direct link to What is GitOps and Flux" href="/observability-best-practices/guides/operational/gitops-with-amg/#what-is-gitops-and-flux">​</a></h3>
<p>GitOps is a software development and operations methodology that uses Git as the source of truth for deployment configurations. It involves keeping the desired state of an application or infrastructure in a Git repository and using Git-based workflows to manage and deploy changes. GitOps is a way of managing application and infrastructure deployment so that the whole system is described declaratively in a Git repository. It is an operational model that offers you the ability to manage the state of multiple Kubernetes clusters leveraging the best practices of version control, immutable artifacts, and automation.</p>
<p>Flux is a GitOps tool that automates the deployment of applications on Kubernetes. It works by continuously monitoring the state of a Git repository and applying any changes to a cluster. Flux integrates with various Git providers such as GitHub, <a href="https://dzone.com/articles/auto-deploy-spring-boot-app-using-gitlab-cicd" target="_blank" rel="noopener noreferrer">GitLab</a>, and Bitbucket. When changes are made to the repository, Flux automatically detects them and updates the cluster accordingly.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="advantages-of-using-flux">Advantages of using Flux<a class="hash-link" aria-label="Direct link to Advantages of using Flux" title="Direct link to Advantages of using Flux" href="/observability-best-practices/guides/operational/gitops-with-amg/#advantages-of-using-flux">​</a></h3>
<ul>
<li><strong>Automated deployments</strong>: Flux automates the deployment process, reducing manual errors and freeing up developers to focus on other tasks.</li>
<li><strong>Git-based workflow</strong>: Flux leverages Git as a source of truth, which makes it easier to track and revert changes.</li>
<li><strong>Declarative configuration</strong>: Flux uses <a href="https://dzone.com/articles/kubernetes-full-stack-example-with-kong-ingress-co" target="_blank" rel="noopener noreferrer">Kubernetes</a> manifests to define the desired state of a cluster, making it easier to manage and track changes.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="challenges-in-adopting-flux">Challenges in adopting Flux<a class="hash-link" aria-label="Direct link to Challenges in adopting Flux" title="Direct link to Challenges in adopting Flux" href="/observability-best-practices/guides/operational/gitops-with-amg/#challenges-in-adopting-flux">​</a></h3>
<ul>
<li><strong>Limited customization</strong>: Flux only supports a limited set of customizations, which may not be suitable for all use cases.</li>
<li><strong>Steep learning curve</strong>: Flux has a steep learning curve for new users and requires a deep understanding of Kubernetes and Git.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-grafana-operator-on-amazon-eks-to-manage-resources-in-amazon-managed-grafana">Using Grafana Operator on Amazon EKS to manage resources in Amazon Managed Grafana<a class="hash-link" aria-label="Direct link to Using Grafana Operator on Amazon EKS to manage resources in Amazon Managed Grafana" title="Direct link to Using Grafana Operator on Amazon EKS to manage resources in Amazon Managed Grafana" href="/observability-best-practices/guides/operational/gitops-with-amg/#using-grafana-operator-on-amazon-eks-to-manage-resources-in-amazon-managed-grafana">​</a></h2>
<p>As discussed in previous section, Grafana Operator enables us to use our Kubernetes cluster to create and manage the lifecyle of resources in Amazon Managed Grafana in a Kubernetes native way.  The below architecture diagram shows the demonstration of Kubernetes cluster as a control plane with using Grafana Operator to setup an identity with AMG, adding Amazon Managed Service for Prometheus as a data source and creating dashboards on Amazon Managed Grafana from Amazon EKS cluster in a Kubernetes native way.</p>
<p><img decoding="async" loading="lazy" alt="GitOPS-WITH-AMG-2" src="/observability-best-practices/assets/images/gitops-with-amg-2-4b4923747c781ee35a48d123eca8bef9.jpg" width="610" height="482" class="img_ev3q"></p>
<p>Please refer to our post on <a href="https://aws.amazon.com/blogs/mt/using-open-source-grafana-operator-on-your-kubernetes-cluster-to-manage-amazon-managed-grafana/" target="_blank" rel="noopener noreferrer">Using Open Source Grafana Operator on your Kubernetes cluster to manage Amazon Managed Grafana</a> for detailed demonstration of how to deploy the above solution on your Amazon EKS cluster.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-gitops-with-flux-on-amazon-eks-to-manage-resources-in-amazon-managed-grafana">Using GitOps with Flux on Amazon EKS to manage resources in Amazon Managed Grafana<a class="hash-link" aria-label="Direct link to Using GitOps with Flux on Amazon EKS to manage resources in Amazon Managed Grafana" title="Direct link to Using GitOps with Flux on Amazon EKS to manage resources in Amazon Managed Grafana" href="/observability-best-practices/guides/operational/gitops-with-amg/#using-gitops-with-flux-on-amazon-eks-to-manage-resources-in-amazon-managed-grafana">​</a></h2>
<p>As discussed above, Flux automates the deployment of applications on Kubernetes. It works by continuously monitoring the state of a Git repository such as GitHub and when changes are made to the repository, Flux automatically detects them and updates the cluster accordingly. Please reference the below architecture where we will be demonstrating how to use Grafana Operator from your Kubernetes cluster and GitOps mechanisms using Flux to add Amazon Managed Service for Prometheus as a data source and create dashboards in Amazon Managed Grafana in a Kubernetes native way.</p>
<p><img decoding="async" loading="lazy" alt="GitOPS-WITH-AMG-1" src="/observability-best-practices/assets/images/gitops-with-amg-1-b5b339efad61acdfb54e1564c16a5076.jpg" width="628" height="573" class="img_ev3q"></p>
<p>Please refer to our One Observability Workshop module - <a href="https://catalog.workshops.aws/observability/en-US/aws-managed-oss/gitops-with-amg" target="_blank" rel="noopener noreferrer">GitOps with Amazon Managed Grafana</a>. This module sets up required &quot;Day 2&quot; operational tooling such as the following on your EKS cluster:</p>
<ul>
<li><a href="https://github.com/external-secrets/external-secrets/tree/main/deploy/charts/external-secrets" target="_blank" rel="noopener noreferrer">External Secrets Operator</a> is installed successfully to read Amazon Managed Grafana secrets from AWS Secret Manager</li>
<li><a href="https://github.com/prometheus/node_exporter" target="_blank" rel="noopener noreferrer">Prometheus Node Exporter</a>to measure various machine resources such as memory, disk and CPU utilization</li>
<li><a href="https://github.com/grafana-operator/grafana-operator" target="_blank" rel="noopener noreferrer">Grafana Operator</a> to use our Kubernetes cluster to create and manage the lifecyle of resources in Amazon Managed Grafana in a Kubernetes native way.</li>
<li><a href="https://fluxcd.io/" target="_blank" rel="noopener noreferrer">Flux</a> to automate the deployment of applications on Kubernetes using GitOps mechanisms.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" href="/observability-best-practices/guides/operational/gitops-with-amg/#conclusion">​</a></h2>
<p>In this section of Observability best practices guide, we learned about using Grafana Operator and GitOps with Amazon Managed Grafana. We started with learning about GitOps and Grafana Operator. Then we focussed on how to use Grafana Operator on Amazon EKS to manage resources in Amazon Managed Grafana and on how to use GitOps with Flux on Amazon EKS to manage resources in Amazon Managed Grafana to setup an identity with AMG, adding AWS data sources on Amazon Managed Grafana from Amazon EKS cluster in a Kubernetes native way.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/aws-observability/observability-best-practices/blob/main/docusaurus/docs/guides/operational/gitops-with-amg/gitops-with-amg.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/observability-best-practices/guides/operational/alerting/amp-alertmgr"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Amazon Managed Service for Prometheus Alert Manager</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/observability-best-practices/tools/cloudwatch-dashboard"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">CloudWatch Dashboard</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/observability-best-practices/guides/operational/gitops-with-amg/#how-to-use-this-guide">How to use this guide</a></li><li><a class="table-of-contents__link toc-highlight" href="/observability-best-practices/guides/operational/gitops-with-amg/#introduction">Introduction</a></li><li><a class="table-of-contents__link toc-highlight" href="/observability-best-practices/guides/operational/gitops-with-amg/#introduction-on-grafana-operator">Introduction on Grafana Operator</a></li><li><a class="table-of-contents__link toc-highlight" href="/observability-best-practices/guides/operational/gitops-with-amg/#introduction-to-gitops">Introduction to GitOps</a><ul><li><a class="table-of-contents__link toc-highlight" href="/observability-best-practices/guides/operational/gitops-with-amg/#what-is-gitops-and-flux">What is GitOps and Flux</a></li><li><a class="table-of-contents__link toc-highlight" href="/observability-best-practices/guides/operational/gitops-with-amg/#advantages-of-using-flux">Advantages of using Flux</a></li><li><a class="table-of-contents__link toc-highlight" href="/observability-best-practices/guides/operational/gitops-with-amg/#challenges-in-adopting-flux">Challenges in adopting Flux</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/observability-best-practices/guides/operational/gitops-with-amg/#using-grafana-operator-on-amazon-eks-to-manage-resources-in-amazon-managed-grafana">Using Grafana Operator on Amazon EKS to manage resources in Amazon Managed Grafana</a></li><li><a class="table-of-contents__link toc-highlight" href="/observability-best-practices/guides/operational/gitops-with-amg/#using-gitops-with-flux-on-amazon-eks-to-manage-resources-in-amazon-managed-grafana">Using GitOps with Flux on Amazon EKS to manage resources in Amazon Managed Grafana</a></li><li><a class="table-of-contents__link toc-highlight" href="/observability-best-practices/guides/operational/gitops-with-amg/#conclusion">Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Built with ❤️ at AWS. <br> © 2025.  Amazon.com, Inc. or its affiliates. All Rights Reserved.</div></div></div></footer></div>
</body>
</html>